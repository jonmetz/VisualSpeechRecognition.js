<!doctype html>
<!-- hi bo -->
<html lang="en">
	<head>
		<title>Face tracker</title>
		<meta charset="utf-8">
		<link href="./styles/bootstrap.min.css" rel="stylesheet" type="text/css">
		<link href="./styles/clm_video.css" rel="stylesheet" type="text/css">
    <script src="https://cdn.firebase.com/js/client/2.0.6/firebase.js"></script>
    <script src="js/db.js"></script>
    <script>
      var BosArr = [
       [ [10,"yo"], [25, 64], [13,53] ],
       [ [25, 63], [2,24], [5, 56] ]
      ];
     var saveCalibrationMatrix = makeSaveCalibrationMatrix("hg", BosArr);
    </script>
	</head>
	<body>
		<script src="./js/utils.js"></script>
		<script src="./js/numeric-1.2.6.min.js"></script>
		<script src="./js/mosse.js"></script>
		<script src="./js/jsfeat-min.js"></script>
		<script src="./js/frontalface.js"></script>
		<script src="./js/jsfeat_detect.js"></script>
		<script src="./js/left_eye_filter.js"></script>
		<script src="./js/right_eye_filter.js"></script>
		<script src="./js/nose_filter.js"></script>
		<script src="./models/model_pca_20_svm.js"></script>
		<script src="./js/clm.js"></script>
		<script src="./js/svmfilter_webgl.js"></script>
		<script src="./js/svmfilter_fft.js"></script>
		<script src="./js/mossefilter.js"></script>
		<script src="./js/Stats.js"></script>
		<div id="content">
			<h2>Lipreading</h2>
			<div id="container">
				<video id="videoel" width="400" height="300" preload="auto" loop>
					<!--<video id="videoel" width="320" height="240" preload="auto">-->
					<!--<source src="./media/franck.ogv" type="video/ogg"/>-->
				</video>
				<canvas id="overlay" width="400" height="300"></canvas>
			</div>
      <div id="info" width="400" height="300">


      </div>
			<br/>
			<input class="btn" type="button" value="wait, loading video" disabled="disabled" onclick="startVideo()" id="startbutton"></input>
      <input class="btn" type="button" value="calibrate?" disabled="disabled" onclick="toggleCalibrationMode()" id="calibrationbutton"></input>
      <p>
        <a href="dictionary.html" target="_blank">Dictionary</a>
      </p>
			<p>
				Timers:<br/>
				spokenTimer:
				<p id="spokenTimer"></p>
				closedTimer:
				<p id="closedTimer"></p>
			</p>

			Messages:
			<p id="message"></p>

			Paths:
			<p id="paths"></p>
			<p>
				Mouth distance:
				<p id="mouthDist"></p>
			</p>

			<div id="text">
				<p>This is an example of face tracking using the javascript library <a href="https://github.com/auduno/clmtrackr"><em>clmtrackr</em></a>. The fitting method is generally called "Non-rigid/deformable face tracking/alignment using constrained local models".</p>
				<p>Note that this example works best in Google Chrome, with a computer that supports WebGL and floating point textures. It should however work in any modern browser.</p>
				<div id="gum" class="gum">
					<p>To try it out:
						<ol>
							<li>allow the page to use your webcamera</li>
							<li>make sure that your face is clearly visible in the video, and click start</li>
							<li>see the model fitted to your face</li>
						<ol>
					</p>
				</div>
				<div id="nogum" class="nogum">
					<p>
						There was some problem trying to capture your webcamera, please check that your browser supports WebRTC. Using a fallback video instead. To try it out:
						<ol>
							<li>click start</li>
							<li>see the model fitted to the face</li>
						</ol>
					</p>
				</div>

				<p>
					Tracked Lip Points:
					<p id="positions"></p>
				</p>

			</div>
      <script src="./js/draw-lips.js"></script>
      <script src="./js/clm_video.js"></script>
      <script src="./js/matching.js"></script>
      <script src="./js/toggleCalibrationMode.js"></script>

		</div>
	</body>
</html>
